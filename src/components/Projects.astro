---
import { getI18N } from '@i18n/index'
import { getLangFromUrl, useTranslationsProjects } from '@i18n/utils'
import { projects } from 'src/data/projects'
import Project from './Project.astro'
const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })
const lang = getLangFromUrl(Astro.url)
//const t = useTranslations(lang)
const t = useTranslationsProjects(lang)
---

<!-- Projects -->
<div>
  <div class='mb-8 border-b-4 border-gray-100 py-2.5 dark:border-gray-900'>
    <h3 class='text-xl font-medium'>Projects</h3>
  </div>
  <ul
    class="relative space-y-6 pl-6 before:absolute before:bottom-0 before:left-0 before:top-0 before:block before:w-1 before:rounded-full before:bg-purple-50 before:content-[''] dark:before:bg-purple-950"
  >
    {
      projects.map((project) => {
        const { title, description } = t(project)
        return (
          <Project
            title={title}
            techStack={project.techStack}
            url={project.url}
            description={description}
          />
        )
      })
    }
  </ul>
  <!-- END Projects -->
</div>
